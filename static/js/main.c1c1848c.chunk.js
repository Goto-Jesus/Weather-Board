(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{307:function(e,t,c){},556:function(e,t,c){},557:function(e,t,c){},558:function(e,t,c){},559:function(e,t,c){},560:function(e,t,c){},561:function(e,t,c){},562:function(e,t,c){},563:function(e,t,c){},564:function(e,t,c){},565:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(51),i=c.n(r),s=c(295),o=c(44),l=c(110),u=c(71),d=Object(l.b)({name:"cards",initialState:[],reducers:{add:function(e,t){e.push(t.payload)},delete:function(e,t){var c=e.filter((function(e){return e.id!==t.payload}));e.length=0,e.push.apply(e,Object(u.a)(c))},clear:function(){return[]}}}),j=d.reducer,f=d.actions;var b=function(){try{var e=localStorage.getItem("reduxState");if(null===e)return;return JSON.parse(e)}catch(t){return void console.warn(t)}}(),h=Object(l.a)({reducer:{cards:j},preloadedState:b});h.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("reduxState",t)}catch(c){console.error("Error saving state to localStorage:",c)}}(h.getState())}));var p=h,_=c(163),O=c(38);_.a.use(O.a).init({resources:{en:{translation:{placeholder:"Enter the city...",Add:"Add",Feels_like:"Feels like",Wind:"Wind",Humidity:"Humidity",Pressure:"Pressure"}},ua:{translation:{placeholder:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043c\u0456\u0441\u0442\u043e...",Add:"\u0414\u043e\u0434\u0430\u0442\u0438",Feels_like:"\u0412\u0456\u0434\u0447\u0443\u0432\u0430\u0454\u0442\u044c\u0441\u044f, \u044f\u043a",Wind:"\u0412\u0456\u0442\u0435\u0440",Humidity:"\u0412\u043e\u043b\u043e\u0433\u0456\u0441\u0442\u044c",Pressure:"\u0422\u0438\u0441\u043a"}},he:{translation:{placeholder:"\u05d4\u05d9\u05db\u05e0\u05e1\u05d5 \u05dc\u05e2\u05d9\u05e8...",Add:"\u05dc\u05b0\u05d4\u05d5\u05b9\u05e1\u05b4\u05d9\u05e3",Feels_like:"\u05de\u05e8\u05d2\u05d9\u05e9 \u05db\u05de\u05d5",Wind:"\u05e8\u05d5\u05bc\u05d7\u05b7",Humidity:"\u05dc\u05d7\u05d5\u05ea",Pressure:"\u05dc\u05b7\u05d7\u05b7\u05e5"}}},lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","cookie"]}});_.a;var m=c(57),x=c.n(m),v=c(162),y=c(15),g=function(e,t){var c=Object(n.useState)((function(){if("undefined"===typeof window)return t;try{var c=window.localStorage.getItem(e);return c?JSON.parse(c):t}catch(n){return t}})),a=Object(y.a)(c,2),r=a[0],i=a[1];return[r,function(t){try{var c=t instanceof Function?t(r):t;i(c),"undefined"!==typeof window&&window.localStorage.setItem(e,JSON.stringify(c))}catch(n){console.log(n)}}]},w=c(568),N=c(56),S=function(e){return Number(e.toFixed(1))},k=function(e){return S(1.8*e+32)};function C(e){var t=e.list[0],c=t.main,n=c.feels_like,a=c.temp,r=c.humidity,i=c.pressure,s=t.wind.speed,o=t.dt_txt,l=Object(y.a)(t.weather,1)[0],u=l.icon,d=l.main,j=e.city,f=j.name,b=j.country,h=new Date(o).toLocaleDateString(void 0,{weekday:"short",day:"numeric",month:"long",hour:"numeric",minute:"numeric"}),p=function(e){var t=e.list.slice(0,8).map((function(e){var t,c=e.main.temp,n=e.dt_txt;return t={date:new Date(n).toString().split(" ")[4].slice(0,5)},Object(N.a)(t,"\xb0C",S(c)),Object(N.a)(t,"\xb0F",k(c)),t})),c={date:"","\xb0C":"","\xb0F":""};return t.push(c),t.unshift(c),t}(e);return{id:Object(w.a)(),name:f,country:b,date:h,temp_C:S(a),temp_F:k(a),feels_like_C:S(n),feels_like_F:k(n),icon:u,type_weather:d,wind_speed:s,humidity:r,pressure:i,list:p}}var F="https://api.openweathermap.org/data/2.5/";function E(e){return new Promise((function(t){setTimeout(t,e)}))}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={method:t};return c&&(n.body=JSON.stringify(c),n.headers={"Content-Type":"application/json; charset=UTF-8"}),E(0).then((function(){return fetch(F+e,n)})).then((function(e){if(!e.ok)throw new Error;return e.text()})).then((function(e){return e?JSON.parse(e):null}))}var L,P=function(e){return A(e)},H="413051a7e53bae5c44f27e6b8fcce7a2",I=o.c,Z=(o.b,c(8)),J=c.n(Z),M=c(569),T=c(570),W=c(294),D=c(86),G=c(293),K=c(115),R=(c(307),c(2)),q=function(e){var t=e.isCold,c=e.list,n=e.isFahrenheit;return Object(R.jsx)(M.a,{width:"100%",height:71,children:Object(R.jsxs)(T.a,{data:c,margin:{top:10,right:-10,left:-10,bottom:-10},className:"chart",children:[Object(R.jsxs)("defs",{children:[Object(R.jsxs)("linearGradient",{id:"color",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(R.jsx)("stop",{offset:"0%",stopColor:"#ffa25b",stopOpacity:1}),Object(R.jsx)("stop",{offset:"100%",stopColor:"#fff4f4",stopOpacity:1})]}),Object(R.jsxs)("linearGradient",{id:"color--cold",x1:"0",y1:"0",x2:"0",y2:"1",children:[Object(R.jsx)("stop",{offset:"0%",stopColor:"#459de9",stopOpacity:1}),Object(R.jsx)("stop",{offset:"100%",stopColor:"#fff4f4",stopOpacity:1})]})]}),Object(R.jsx)(W.a,{dataKey:"date",axisLine:!1,tickLine:!1,tickSize:0,height:20,className:"chart__XAsix"}),Object(R.jsx)(D.a,{contentStyle:{borderRadius:5,padding:5,opacity:.8}}),Object(R.jsx)(G.a,{type:"monotone",dataKey:J()({"\xb0C":!n,"\xb0F":n}),stroke:J()({"#459de9":t,"#ffa25b":!t}),fillOpacity:.3,fill:J()({"url(#color--cold)":t,"url(#color)":!t}),children:Object(R.jsx)(K.a,{dataKey:J()({"\xb0C":!n,"\xb0F":n}),position:"top",className:"chart__LabelList"})})]})})},B=(c(556),function(e){var t=e.card,c=t.name,n=t.country,a=t.date,r=t.icon,i=t.type_weather;return Object(R.jsxs)("div",{className:"card__header",children:[Object(R.jsxs)("div",{className:"card__title",children:[Object(R.jsx)("div",{className:"card__title__city",children:"".concat(c,", ").concat(n)}),Object(R.jsx)("div",{className:"card__title__date",children:a})]}),Object(R.jsxs)("div",{className:"card__display",children:[Object(R.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(r,".png"),alt:"weather icon",className:"card__display__weather-icon"}),Object(R.jsx)("div",{className:"card__display__typeOfWeather",children:i})]})]})}),U=function(e){var t=e.card,c=e.isFahrenheit,n=e.isCold,a=e.onFahrenheit,r=e.onCelsius,i=Object(O.b)().t,s=t.temp_C,o=t.temp_F,l=t.feels_like_C,u=t.feels_like_F,d=t.wind_speed,j=t.humidity,f=t.pressure,b=c?o:s,h=c?u:l;return Object(R.jsxs)("div",{className:"card__footer",children:[Object(R.jsxs)("div",{className:"wrapper",children:[Object(R.jsxs)("div",{className:"card__footer__temperature",children:[Object(R.jsx)("div",{className:"card__footer__temperature__amount",children:"".concat(n?"":"+").concat(b)}),Object(R.jsxs)("div",{className:"card__footer__temperature__switch",children:[Object(R.jsx)("button",{type:"button",className:J()("card__footer__temperature__switch__option",{"card__footer__temperature__switch__option--active":!c}),onClick:function(){return r()},children:"\xb0C"}),Object(R.jsx)("div",{className:"line"}),Object(R.jsx)("button",{type:"button",className:J()("card__footer__temperature__switch__option",{"card__footer__temperature__switch__option--active":c}),onClick:function(){return a()},children:"\xb0F"})]})]}),Object(R.jsxs)("div",{className:"card__footer__temperature-feelsLike",children:[Object(R.jsx)("span",{children:"".concat(i("Feels_like"),":")}),Object(R.jsx)("b",{children:" ".concat(n?"":"+").concat(h," ").concat(c?"\xb0F":"\xb0C")})]})]}),Object(R.jsxs)("div",{className:"card__statictics",children:[Object(R.jsx)("span",{children:"".concat(i("Wind"),":")}),Object(R.jsx)("b",{className:"card__statictics__amount",children:" ".concat(d," m/s")}),Object(R.jsx)("br",{}),Object(R.jsx)("span",{children:"".concat(i("Humidity"),":")}),Object(R.jsx)("b",{className:"card__statictics__amount",children:" ".concat(j,"%")}),Object(R.jsx)("br",{}),Object(R.jsx)("span",{children:"".concat(i("Pressure"),":")}),Object(R.jsx)("b",{className:"card__statictics__amount",children:" ".concat(f,"Pa")})]})]})},z=function(e){var t=e.card,c=t.id,a=t.temp_C,r=t.list,i=Object(n.useState)(!1),s=Object(y.a)(i,2),l=s[0],u=s[1],d=a<=0,j=Object(o.b)();return Object(R.jsxs)("div",{className:J()("card",{"card--cold":d}),children:[Object(R.jsx)(B,{card:t}),Object(R.jsxs)("div",{className:"card__chart",children:[Object(R.jsx)(q,{list:r,isCold:d,isFahrenheit:l}),Object(R.jsx)("div",{className:"card__chart__wrapper"})]}),Object(R.jsx)(U,{card:t,isFahrenheit:l,isCold:d,onFahrenheit:function(){u(!0)},onCelsius:function(){u(!1)}}),Object(R.jsx)("button",{type:"button",className:"card__close",onClick:function(){var e;e=c,j(f.delete(e))},children:Object(R.jsx)("div",{className:"card__close__icon",children:"\u2715"})})]})},V=(c(557),function(){var e=I((function(e){return e.cards}));return Object(R.jsx)("div",{className:"listOfCard",children:e.map((function(e){return Object(R.jsx)(z,{card:e},e.id)}))})});function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},r=Object.keys(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)c=r[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function Y(e,t){var c=e.title,a=e.titleId,r=Q(e,["title","titleId"]);return n.createElement("svg",X({xmlns:"http://www.w3.org/2000/svg",width:12.17,height:12.17,viewBox:"0 0 12.17 12.17",ref:t,"aria-labelledby":a},r),c?n.createElement("title",{id:a},c):null,L||(L=n.createElement("path",{id:"Icon_material-language","data-name":"Icon material-language",d:"M9.079,3A6.085,6.085,0,1,0,15.17,9.085,6.082,6.082,0,0,0,9.079,3ZM13.3,6.651H11.5a9.522,9.522,0,0,0-.84-2.166A4.886,4.886,0,0,1,13.3,6.651ZM9.085,4.241a8.572,8.572,0,0,1,1.162,2.41H7.923A8.572,8.572,0,0,1,9.085,4.241ZM4.375,10.3a4.76,4.76,0,0,1,0-2.434H6.432a10.049,10.049,0,0,0-.085,1.217A10.049,10.049,0,0,0,6.432,10.3Zm.5,1.217h1.8a9.522,9.522,0,0,0,.84,2.166A4.86,4.86,0,0,1,4.874,11.519Zm1.8-4.868h-1.8A4.86,4.86,0,0,1,7.509,4.485,9.522,9.522,0,0,0,6.669,6.651Zm2.416,7.277a8.572,8.572,0,0,1-1.162-2.41h2.324A8.572,8.572,0,0,1,9.085,13.928ZM10.509,10.3H7.661a8.953,8.953,0,0,1-.1-1.217,8.875,8.875,0,0,1,.1-1.217h2.848a8.875,8.875,0,0,1,.1,1.217A8.953,8.953,0,0,1,10.509,10.3Zm.152,3.383a9.522,9.522,0,0,0,.84-2.166h1.8a4.886,4.886,0,0,1-2.635,2.166ZM11.738,10.3a10.049,10.049,0,0,0,.085-1.217,10.049,10.049,0,0,0-.085-1.217h2.057a4.76,4.76,0,0,1,0,2.434Z",transform:"translate(-3 -3)",fill:"#afafaf"})))}var $=n.forwardRef(Y),ee=(c.p,c(558),function(){var e=Object(O.b)().i18n,t=Object(n.useState)("en"),c=Object(y.a)(t,2),a=c[0],r=c[1];return Object(R.jsxs)("div",{className:"locales",children:[Object(R.jsx)($,{className:"locales__icon"}),Object(R.jsxs)("select",{value:a,onChange:function(t){var c=t.target.value;r(c),e.changeLanguage(c)},children:[Object(R.jsx)("option",{value:"en",children:"EN"}),Object(R.jsx)("option",{value:"ua",children:"UA"}),Object(R.jsx)("option",{value:"he",children:"HE"})]})]})}),te=(c(559),function(e){var t=e.isOpened,c=e.onSetSearch,a=e.dropdownList,r=Object(n.useState)(""),i=Object(y.a)(r,2),s=i[0],o=i[1];return Object(R.jsx)("ul",{className:J()("list",{"list--open":t,"list--close":!t}),children:a.map((function(e){return Object(R.jsx)("li",{className:J()("list__item",{"list__item--active":s===e}),onClick:function(){o(e),c(e)},children:e},e)}))})}),ce=(c(560),function(e){var t=e.onPressed,c=Object(O.b)().t;return Object(R.jsx)("button",{type:"button",className:"button",onClick:function(){return t()},children:c("Add")})}),ne=(c(561),function(e){var t=e.onLoad,c=I((function(e){return e.cards})),a=Object(O.b)().t,r=Object(n.useState)(""),i=Object(y.a)(r,2),s=i[0],o=i[1],l=g("searchList",[]),d=Object(y.a)(l,2),j=d[0],f=d[1],b=Object(n.useState)(!1),h=Object(y.a)(b,2),p=h[0],_=h[1],m=Object(n.useRef)(null),x=function(e){m.current&&!m.current.contains(e.target)&&_(!1)};return Object(n.useEffect)((function(){document.addEventListener("mousedown",x)}),[]),Object(n.useEffect)((function(){c.forEach((function(e){return function(e){var t="".concat(e.name,", ").concat(e.country);j.includes(t)||f((function(e){return[].concat(Object(u.a)(e),[t])}))}(e)})),o("")}),[c]),Object(R.jsxs)("div",{className:"search",children:[Object(R.jsx)("input",{type:"text",className:"search__box",placeholder:a("placeholder"),value:s,onClick:function(){_(!0)},onChange:function(e){return o(e.target.value)}}),Object(R.jsx)("div",{className:"search__list",ref:m,children:Object(R.jsx)(te,{isOpened:p,dropdownList:j,onSetSearch:function(e){o(e)}})}),Object(R.jsx)("div",{className:"search__button",children:Object(R.jsx)(ce,{onPressed:function(){return t(s)}})})]})}),ae=(c(562),function(e){var t=e.onClose;return Object(n.useEffect)((function(){var e=setTimeout((function(){t()}),3e3);return function(){clearTimeout(e)}}),[]),Object(R.jsx)("div",{className:"error",children:"\u274c No correct query ..."})}),re=(c(563),function(){var e=Object(n.useState)(!1),t=Object(y.a)(e,2),c=t[0],a=t[1],r=g("location",{}),i=Object(y.a)(r,2),s=i[0],l=i[1],u=Object(o.b)(),d=function(e){return u(f.add(e))},j=function(){var e=Object(v.a)(x.a.mark((function e(t){var c,n,r,i,o,l;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=9;break}return e.next=4,P("forecast?q=".concat(t,"&units=metric&&appid=").concat(H));case 4:c=e.sent,n=C(c),d(n),e.next=15;break;case 9:return r=s.latitude,i=s.longitude,e.next=12,u=i,P("forecast?lat=".concat(r,"&lon=").concat(u,"&units=metric&&appid=").concat(H));case 12:o=e.sent,l=C(o),d(l);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),a(!0);case 20:case"end":return e.stop()}var u}),e,null,[[0,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){(function(){var e=Object(v.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:navigator.geolocation.getCurrentPosition((function(e){l(e.coords)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("header",{className:"header",children:[Object(R.jsx)(ne,{onLoad:j}),c&&Object(R.jsx)(ae,{onClose:function(){return a(!1)}}),Object(R.jsx)(ee,{})]}),Object(R.jsx)("main",{children:Object(R.jsx)(V,{})})]})});c(564);i.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(n.Suspense,{fallback:Object(R.jsx)("div",{className:"loader",children:Object(R.jsx)(s.a,{width:"200",color:"#ffa25b"})}),children:Object(R.jsx)(o.a,{store:p,children:Object(R.jsx)(re,{})})})}),document.getElementById("root"))}},[[565,1,2]]]);
//# sourceMappingURL=main.c1c1848c.chunk.js.map